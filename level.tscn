[gd_scene load_steps=12 format=3 uid="uid://bhckrvng2l32w"]

[ext_resource type="Script" uid="uid://bbmm4knvvps5f" path="res://level.gd" id="1_0b4ue"]
[ext_resource type="PackedScene" uid="uid://bs72ogkvdd7d6" path="res://proto_controller/proto_controller.tscn" id="1_vonw3"]
[ext_resource type="Material" uid="uid://dbe3cb4st6rio" path="res://materials/wall.tres" id="2_0b4ue"]
[ext_resource type="PackedScene" uid="uid://vtk75vmymax" path="res://scenes/demon.tscn" id="3_oi3di"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_a0tk4"]
sky_top_color = Color(0.401971, 0.569812, 0.76662, 1)
sky_horizon_color = Color(0.915058, 0.570748, 0.434075, 1)
ground_bottom_color = Color(0.271116, 0.177234, 0.144251, 1)
ground_horizon_color = Color(0.891351, 0.581267, 0.486467, 1)

[sub_resource type="Sky" id="Sky_r3fl7"]
sky_material = SubResource("ProceduralSkyMaterial_a0tk4")

[sub_resource type="Environment" id="Environment_jka67"]
background_mode = 2
sky = SubResource("Sky_r3fl7")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_oi3di"]
vertices = PackedVector3Array(-25.842, 0.483128, -57.1993, -25.842, 0.483128, -55.4493, 18.908, 0.483128, -55.4493, 18.908, 0.483128, -57.1993, -25.842, 0.483128, -20.9493, -12.342, 0.483128, -20.9493, -12.092, 0.483128, -23.1993, -25.842, 0.483128, -53.9493, -10.842, 0.483128, -22.9493, -10.842, 0.483128, -21.4493, 18.908, 0.233128, -21.6993, 18.908, 0.483128, -53.9493, -10.842, 0.483128, 3.55065, 18.908, 0.233128, 3.80065, -25.842, 0.483128, 3.05065, -12.342, 0.483128, 3.05065, -12.342, 0.483128, 5.05065, -11.592, 0.483128, 5.30065, -25.842, 0.483128, 26.3007, -11.592, 0.233128, 26.3007, -10.842, 0.233128, 5.05065, 18.908, 0.233128, 25.8007, 19.408, 0.233128, 26.3007)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(10, 9, 8), PackedInt32Array(8, 6, 10), PackedInt32Array(10, 6, 11), PackedInt32Array(11, 6, 7), PackedInt32Array(9, 10, 12), PackedInt32Array(12, 10, 13), PackedInt32Array(4, 5, 14), PackedInt32Array(14, 5, 15), PackedInt32Array(14, 15, 16), PackedInt32Array(16, 17, 14), PackedInt32Array(14, 17, 19), PackedInt32Array(14, 19, 18), PackedInt32Array(17, 20, 19), PackedInt32Array(19, 20, 21), PackedInt32Array(21, 20, 13), PackedInt32Array(20, 12, 13), PackedInt32Array(21, 22, 19)]

[sub_resource type="PlaneMesh" id="PlaneMesh_i5arm"]

[sub_resource type="BoxShape3D" id="BoxShape3D_wc5p8"]
size = Vector3(36.2141, 1, 40.7275)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_oi3di"]

[node name="world" type="Node3D"]
script = ExtResource("1_0b4ue")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.821274, -0.250603, 0.512549, -0.0672345, 0.849597, 0.52313, -0.566558, -0.464094, 0.680903, -13.7021, 0, -17.3313)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_jka67")

[node name="player" parent="." instance=ExtResource("1_vonw3")]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_oi3di")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.83224, 0, -15.0205)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(23.8545, 0.0619475, 0.0122033, -0.0799951, 18.4692, -0.0918956, -0.00699952, 0.0397869, 42.6392, -0.143059, 0, 0.14306)
mesh = SubResource("PlaneMesh_i5arm")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1.19929, 0, 0, 0, 1, -0.0180893, -0.667227, 0.257522)
shape = SubResource("BoxShape3D_wc5p8")
debug_color = Color(7.70092e-07, 0.317908, 0.37484, 0.42)

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="NavigationRegion3D"]
transform = Transform3D(18.5093, 0, 0, 0, 1, 0, 0, 0, 19.5865, -3.83224, 0, -15.0205)
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.419437, 0, 0, 0, 6.97863, 0, 0, 0, 0.0100069, 0.00291152, 2.36566, 2.14162)
use_collision = true
size = Vector3(6.11767, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.419448, 0, 0, 0, 9.03801, 0, 0, 0, 0.0129203, 0.00291154, 2.36566, -2.02221)
size = Vector3(6.11767, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-1.42003e-08, 0, 0.0105893, 0, 6.99992, 0, -0.306998, 0, -4.37416e-10, 1.26729, 2.34175, -0.0410495)
size = Vector3(14.3438, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D4" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-1.42003e-08, 0, 0.0105893, 0, 6.99996, 0, -0.306998, 0, -4.37416e-10, -1.23402, 2.34175, 0.0300732)
size = Vector3(14.1179, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D5" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-1.34193e-08, 0, 0.0105893, 0, 6.9999, 0, -0.306998, 0, -4.62873e-10, -0.758778, 2.34175, 1.46639)
size = Vector3(4.53079, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D6" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-1.34193e-08, 0, 0.0105893, 0, 6.9999, 0, -0.306998, 0, -4.62873e-10, 0.342868, 2.34175, 1.46639)
size = Vector3(4.53079, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D7" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.00325089, 0, 0, 0, 48.9986, 0, 0, 0, 0.00325089, 0.358396, 18.7338, 1.36113)
size = Vector3(4.53079, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="demon" parent="." instance=ExtResource("3_oi3di")]
transform = Transform3D(2.985, 0, 0, 0, 2.985, 0, 0, 0, 2.985, -1.0587, 1.19603, -18.4125)
collision_layer = 2

[node name="Area3D" parent="demon" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00768769, 0, -0.000618935)

[node name="MeshInstance3D" type="MeshInstance3D" parent="demon"]
visible = false
mesh = SubResource("CapsuleMesh_oi3di")

[connection signal="body_entered" from="demon/Area3D" to="player" method="_on_area_3d_body_entered"]

[editable path="demon"]
