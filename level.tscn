[gd_scene load_steps=12 format=3 uid="uid://bhckrvng2l32w"]

[ext_resource type="Script" uid="uid://bbmm4knvvps5f" path="res://level.gd" id="1_0b4ue"]
[ext_resource type="PackedScene" uid="uid://bs72ogkvdd7d6" path="res://proto_controller/proto_controller.tscn" id="1_vonw3"]
[ext_resource type="Material" uid="uid://dbe3cb4st6rio" path="res://materials/wall.tres" id="2_0b4ue"]
[ext_resource type="PackedScene" uid="uid://vtk75vmymax" path="res://scenes/demon.tscn" id="3_oi3di"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_a0tk4"]
sky_top_color = Color(0.401971, 0.569812, 0.76662, 1)
sky_horizon_color = Color(0.915058, 0.570748, 0.434075, 1)
ground_bottom_color = Color(0.271116, 0.177234, 0.144251, 1)
ground_horizon_color = Color(0.891351, 0.581267, 0.486467, 1)

[sub_resource type="Sky" id="Sky_r3fl7"]
sky_material = SubResource("ProceduralSkyMaterial_a0tk4")

[sub_resource type="Environment" id="Environment_jka67"]
background_mode = 2
sky = SubResource("Sky_r3fl7")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_oi3di"]
vertices = PackedVector3Array(-26.0353, 0.505207, -57.1993, -26.0353, 0.505207, -55.4493, 18.9647, 0.505207, -55.4493, 18.9647, 0.505207, -57.1993, -5.53533, 0.505207, -42.6993, -4.78533, 0.505207, -42.9493, -4.78533, 0.505207, -53.9493, -26.0353, 0.505207, -53.9493, -26.0353, 0.505207, -36.1993, -5.53533, 0.505207, -36.1993, -4.03533, 0.505207, -42.6993, -4.03533, 0.505207, -40.9493, 6.21467, 0.505207, -40.9493, 6.21467, 0.505207, -42.6993, 6.71467, 0.505207, -42.9493, 6.71467, 0.505207, -53.9493, 7.46467, 0.505207, -42.6993, 18.9647, 0.505207, -40.6993, 18.9647, 0.505207, -53.9493, 7.46467, 0.505207, -40.6993, -4.03533, 0.505207, -37.4493, 6.21467, 0.505207, -37.1993, 7.46467, 0.505207, -24.6993, 18.9647, 0.505207, -24.6993, -4.78533, 0.505207, -35.6993, -4.78533, 0.505207, -32.4493, -4.03533, 0.505207, -32.1993, 6.21467, 0.505207, -30.9493, -4.03533, 0.505207, -35.9493, -4.03533, 0.505207, -30.6993, -5.53533, 0.505207, -32.1993, -26.0353, 0.505207, -19.1993, -14.0353, 0.505207, -24.4493, -5.53533, 0.505207, -19.1993, -5.53533, 0.505207, -23.1993, -13.7853, 0.505207, -23.1993, -5.53533, 0.505207, -24.6993, -4.03533, 0.505207, -24.6993, 6.21467, 0.505207, -24.6993, 2.21467, 0.505207, -19.1993, 2.46467, 0.505207, -18.4493, 6.21467, 0.505207, -18.6993, 6.21467, 0.505207, -23.1993, -4.03533, 0.505207, -23.1993, -4.03533, 0.505207, -19.1993, 6.71467, 0.505207, -17.9493, 6.71467, 0.505207, -15.1993, 7.46467, 0.505207, -14.9493, 7.46467, 0.505207, -18.1993, 18.9647, 0.505207, -12.9493, 18.9647, 0.505207, -23.1993, 7.46467, 0.505207, -12.9493, 7.46467, 0.505207, -23.1993, 6.21467, 0.505207, -14.9493, 2.21467, 0.505207, -17.6993, 2.21467, 0.505207, -10.1993, 3.21467, 0.505207, -9.94935, -4.03533, 0.505207, -17.6993, -4.03533, 0.505207, -11.4493, 3.21467, 0.505207, -6.19935, 6.21467, 0.505207, -6.19935, -6.28533, 0.505207, -5.94935, -5.53533, 0.505207, -6.19935, -5.53533, 0.505207, -7.94935, -4.78533, 0.505207, -8.19935, -4.78533, 0.505207, -10.9493, -5.53533, 0.505207, -11.1993, -17.5353, 0.505207, -0.449348, -6.28533, 0.505207, -5.19935, -18.5353, 0.505207, -0.199348, -26.0353, 0.505207, 1.80065, -18.5353, 0.505207, 1.80065, -5.53533, 0.505207, -17.6993, -26.0353, 0.505207, -17.6993, 7.46467, 0.505207, -6.19935, 18.9647, 0.505207, -6.19935, -4.03533, 0.505207, -7.94935, 1.71467, 0.505207, -6.19935, 1.71467, 0.505207, -9.94935, -4.03533, 0.505207, -6.19935, -17.0353, 0.505207, 6.55065, -12.0353, 0.505207, 6.55065, -11.7853, 0.505207, 5.80065, -17.0353, 0.505207, -0.199348, -4.03533, 0.505207, 5.80065, -4.03533, 0.505207, -4.69935, -6.03533, 0.505207, -4.69935, 1.71467, 0.505207, 0.550652, 2.46467, 0.505207, 0.300652, 2.46467, 0.505207, -2.94935, 1.71467, 0.505207, -3.19935, 1.71467, 0.505207, 5.80065, 1.71467, 0.505207, -4.69935, 3.21467, 0.505207, 0.550652, 3.21467, 0.505207, -3.19935, 9.96467, 0.505207, 5.80065, 11.9647, 0.505207, 5.80065, 11.9647, 0.505207, -4.69935, 5.46467, 0.505207, 5.80065, 5.71467, 0.505207, 6.55065, 9.71467, 0.505207, 6.55065, 3.21467, 0.505207, 5.80065, 3.21467, 0.505207, -4.69935, 18.9647, 0.505207, 5.80065, 18.9647, 0.505207, -4.69935, -26.0353, 0.505207, 13.8007, -22.7853, 0.505207, 13.8007, -22.5353, 0.505207, 13.0507, -18.5353, 0.505207, 13.0507, -11.7853, 0.505207, 7.30065, -17.0353, 0.505207, 13.0507, -10.5353, 0.505207, 13.0507, -10.2853, 0.505207, 7.30065, 9.96467, 0.505207, 7.30065, 5.46467, 0.505207, 7.30065, 11.2147, 0.505207, 13.0507, 3.21467, 0.505207, 13.0507, 11.4647, 0.505207, 7.30065, 3.21467, 0.505207, 7.30065, 1.71467, 0.505207, 13.0507, 1.71467, 0.505207, 7.30065, 17.2147, 0.505207, 13.0507, 17.4647, 0.505207, 13.8007, 18.9647, 0.505207, 13.8007, 18.9647, 0.505207, 7.30065, -22.5353, 0.505207, 14.5507, -18.5353, 0.505207, 15.8007, -18.5353, 0.505207, 14.5507, -17.7853, 0.505207, 20.3007, -17.7853, 0.505207, 16.0507, -18.5353, 0.505207, 20.5507, -26.0353, 0.505207, 26.3007, -18.5353, 0.505207, 26.3007, 17.2147, 0.505207, 14.5507, 18.9647, 0.505207, 26.3007, 3.21467, 0.505207, 14.5507, 3.21467, 0.505207, 26.3007, -17.0353, 0.505207, 20.5507, 1.71467, 0.505207, 26.3007, 1.71467, 0.505207, 14.5507, -17.0353, 0.505207, 15.8007, -17.0353, 0.505207, 26.3007, -17.0353, 0.505207, 14.5507)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(7, 4, 8), PackedInt32Array(4, 9, 8), PackedInt32Array(13, 12, 10), PackedInt32Array(10, 12, 11), PackedInt32Array(13, 10, 14), PackedInt32Array(14, 10, 5), PackedInt32Array(14, 5, 6), PackedInt32Array(14, 6, 15), PackedInt32Array(14, 15, 16), PackedInt32Array(16, 15, 18), PackedInt32Array(16, 18, 17), PackedInt32Array(17, 19, 16), PackedInt32Array(11, 12, 20), PackedInt32Array(20, 12, 21), PackedInt32Array(23, 22, 17), PackedInt32Array(17, 22, 19), PackedInt32Array(24, 28, 25), PackedInt32Array(25, 28, 26), PackedInt32Array(26, 28, 21), PackedInt32Array(26, 21, 27), PackedInt32Array(28, 20, 21), PackedInt32Array(27, 29, 26), PackedInt32Array(24, 25, 30), PackedInt32Array(24, 30, 9), PackedInt32Array(9, 30, 32), PackedInt32Array(9, 32, 8), PackedInt32Array(8, 32, 31), PackedInt32Array(34, 33, 35), PackedInt32Array(35, 33, 31), PackedInt32Array(30, 36, 32), PackedInt32Array(32, 35, 31), PackedInt32Array(37, 29, 38), PackedInt32Array(38, 29, 27), PackedInt32Array(40, 39, 41), PackedInt32Array(41, 39, 42), PackedInt32Array(44, 43, 39), PackedInt32Array(39, 43, 42), PackedInt32Array(45, 48, 46), PackedInt32Array(46, 48, 47), PackedInt32Array(47, 48, 49), PackedInt32Array(49, 48, 50), PackedInt32Array(49, 51, 47), PackedInt32Array(48, 52, 50), PackedInt32Array(46, 53, 45), PackedInt32Array(45, 53, 41), PackedInt32Array(41, 53, 40), PackedInt32Array(40, 53, 54), PackedInt32Array(53, 56, 55), PackedInt32Array(53, 55, 54), PackedInt32Array(54, 55, 58), PackedInt32Array(54, 58, 57), PackedInt32Array(59, 56, 60), PackedInt32Array(60, 56, 53), PackedInt32Array(62, 61, 63), PackedInt32Array(65, 64, 63), PackedInt32Array(65, 63, 66), PackedInt32Array(66, 63, 61), PackedInt32Array(68, 67, 61), PackedInt32Array(61, 67, 69), PackedInt32Array(69, 71, 70), PackedInt32Array(66, 61, 72), PackedInt32Array(72, 61, 69), PackedInt32Array(72, 69, 70), PackedInt32Array(72, 70, 73), PackedInt32Array(75, 74, 49), PackedInt32Array(49, 74, 51), PackedInt32Array(64, 65, 76), PackedInt32Array(76, 65, 58), PackedInt32Array(76, 58, 78), PackedInt32Array(76, 78, 77), PackedInt32Array(77, 79, 76), PackedInt32Array(58, 55, 78), PackedInt32Array(81, 80, 82), PackedInt32Array(82, 80, 83), PackedInt32Array(83, 67, 68), PackedInt32Array(86, 85, 84), PackedInt32Array(86, 84, 68), PackedInt32Array(68, 84, 82), PackedInt32Array(68, 82, 83), PackedInt32Array(88, 87, 89), PackedInt32Array(89, 87, 90), PackedInt32Array(90, 87, 85), PackedInt32Array(91, 84, 87), PackedInt32Array(87, 84, 85), PackedInt32Array(85, 92, 90), PackedInt32Array(93, 88, 89), PackedInt32Array(89, 94, 93), PackedInt32Array(93, 94, 97), PackedInt32Array(93, 97, 95), PackedInt32Array(95, 97, 96), PackedInt32Array(100, 99, 98), PackedInt32Array(100, 98, 95), PackedInt32Array(95, 98, 93), PackedInt32Array(98, 101, 93), PackedInt32Array(94, 102, 97), PackedInt32Array(97, 104, 96), PackedInt32Array(96, 104, 103), PackedInt32Array(106, 105, 107), PackedInt32Array(107, 105, 70), PackedInt32Array(108, 107, 71), PackedInt32Array(71, 107, 70), PackedInt32Array(81, 109, 80), PackedInt32Array(80, 109, 110), PackedInt32Array(110, 109, 111), PackedInt32Array(109, 112, 111), PackedInt32Array(100, 113, 99), PackedInt32Array(99, 113, 114), PackedInt32Array(113, 115, 114), PackedInt32Array(114, 115, 116), PackedInt32Array(113, 117, 115), PackedInt32Array(116, 118, 114), PackedInt32Array(120, 119, 112), PackedInt32Array(112, 119, 111), PackedInt32Array(122, 121, 123), PackedInt32Array(123, 121, 124), PackedInt32Array(115, 117, 121), PackedInt32Array(121, 117, 124), PackedInt32Array(105, 106, 125), PackedInt32Array(125, 127, 126), PackedInt32Array(128, 130, 129), PackedInt32Array(129, 130, 126), PackedInt32Array(126, 130, 125), PackedInt32Array(125, 130, 105), PackedInt32Array(105, 130, 132), PackedInt32Array(105, 132, 131), PackedInt32Array(122, 123, 133), PackedInt32Array(133, 123, 134), PackedInt32Array(135, 133, 136), PackedInt32Array(136, 133, 134), PackedInt32Array(129, 140, 128), PackedInt32Array(128, 140, 137), PackedInt32Array(137, 140, 139), PackedInt32Array(137, 139, 138), PackedInt32Array(138, 141, 137), PackedInt32Array(140, 142, 139)]

[sub_resource type="PlaneMesh" id="PlaneMesh_i5arm"]

[sub_resource type="BoxShape3D" id="BoxShape3D_wc5p8"]
size = Vector3(46.0911, 1, 81.4542)

[sub_resource type="CapsuleMesh" id="CapsuleMesh_oi3di"]

[node name="world" type="Node3D"]
script = ExtResource("1_0b4ue")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.821274, -0.250603, 0.512549, -0.0672345, 0.849597, 0.52313, -0.566558, -0.464094, 0.680903, -13.7021, 0, -17.3313)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_jka67")

[node name="player" parent="." instance=ExtResource("1_vonw3")]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_oi3di")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.83224, 0, -15.0205)

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(23.8545, 0.0619475, 0.0122033, -0.0799951, 18.4692, -0.0918956, -0.00699952, 0.0397869, 42.6392, -0.143059, 0, 0.14306)
mesh = SubResource("PlaneMesh_i5arm")
skeleton = NodePath("../../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1.19929, 0, 0, 0, 1, -0.022728, -0.395148, 1.48316)
shape = SubResource("BoxShape3D_wc5p8")
debug_color = Color(7.70092e-07, 0.317908, 0.37484, 0.42)

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="NavigationRegion3D"]
transform = Transform3D(18.5093, 0, 0, 0, 1, 0, 0, 0, 19.5865, -3.83224, 0, -15.0205)
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.419437, 0, 0, 0, 6.97863, 0, 0, 0, 0.0100069, 0.00291152, 2.36566, 2.14162)
use_collision = true
size = Vector3(6.11767, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.419448, 0, 0, 0, 9.03801, 0, 0, 0, 0.0129203, 0.00291154, 2.36566, -2.02221)
size = Vector3(6.11767, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-1.42003e-08, 0, 0.0105893, 0, 6.99992, 0, -0.306998, 0, -4.37416e-10, 1.26729, 2.34175, -0.0410495)
size = Vector3(14.3438, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D4" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-1.42003e-08, 0, 0.0105893, 0, 6.99996, 0, -0.306998, 0, -4.37416e-10, -1.23402, 2.34175, 0.0300732)
size = Vector3(14.1179, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D5" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-1.34193e-08, 0, 0.0105893, 0, 6.9999, 0, -0.306998, 0, -4.62873e-10, -0.758778, 2.34175, 1.46639)
size = Vector3(4.53079, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D9" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D5"]
transform = Transform3D(-1.42383e-07, 0, -3.25735, 0, 0.142859, 0, 94.435, 0, -4.12788e-06, -0.740742, 0.1459, -3.36031)
operation = 2
size = Vector3(0.150635, 7.72607, 0.277832)

[node name="CSGBox3D6" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.306998, 0, 0, 0, 6.99983, 0, 0, 0, 0.0105893, 0.0667224, 2.34175, 1.46639)
size = Vector3(6.84659, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D7" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-1.34193e-08, 0, 0.0105893, 0, 6.99985, 0, -0.306998, 0, -4.62873e-10, 0.342868, 2.34175, 1.21978)
size = Vector3(6.13734, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D9" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D7"]
transform = Transform3D(-1.42383e-07, 0, -3.25735, 0, 0.142859, 0, 94.435, 0, -4.12787e-06, 1.68762, 0.1459, 0.387286)
operation = 2
size = Vector3(0.150635, 7.72607, 0.231567)

[node name="CSGBox3D8" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.306998, 0, 0, 0, 6.9999, 0, 0, 0, 0.0105893, 0.596216, 2.34175, 0.489723)
size = Vector3(4.53079, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D9" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.306998, 0, 0, 0, 6.9998, 0, 0, 0, 0.0105893, 0.434296, 2.34175, 1.10102)
size = Vector3(5.45518, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D9" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D9"]
transform = Transform3D(-1.42383e-07, 0, -3.25735, 0, 0.142859, 0, 94.4349, 0, -4.12788e-06, 0.624818, 0.1459, -3.36031)
operation = 2
size = Vector3(0.150635, 7.72607, 0.277832)

[node name="CSGBox3D10" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-1.34193e-08, 0, 0.0105893, 0, 6.99985, 0, -0.306998, 0, -4.62873e-10, -0.0555516, 2.34175, -0.452794)
size = Vector3(6.13734, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D9" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D10"]
transform = Transform3D(-1.42383e-07, 0, -3.25735, 0, 0.142859, 0, 94.435, 0, -4.12787e-06, 1.68762, 0.1459, 0.387286)
operation = 2
size = Vector3(0.150635, 7.72607, 0.231567)

[node name="CSGBox3D10" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D10"]
transform = Transform3D(-3.25735, 0, 2.84766e-07, 0, 0.142859, 0, -8.25576e-06, 0, -94.4348, -2.37299, 0.1459, -1.59355)
operation = 2
size = Vector3(0.208069, 7.72607, 0.231567)

[node name="CSGBox3D11" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.306998, 0, 0, 0, 6.99985, 0, 0, 0, 0.0105893, 0.425413, 2.34175, -0.452794)
size = Vector3(6.13734, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D12" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-1.34193e-08, 0, 0.0105893, 0, 6.99985, 0, -0.306998, 0, -4.62873e-10, 0.575198, 2.34175, -0.452794)
size = Vector3(6.13734, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="CSGBox3D10" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D12"]
transform = Transform3D(-3.25735, 0, 2.84766e-07, 0, 0.142859, 0, -8.25576e-06, 0, -94.4348, -1.21198, 0.1459, -1.59355)
operation = 2
size = Vector3(0.208069, 7.72607, 0.231567)

[node name="CSGBox3D13" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(0.306998, 0, 0, 0, 6.99984, 0, 0, 0, 0.0105893, -0.576354, 2.34175, -0.17766)
size = Vector3(5.73188, 0.737411, 1)
material = ExtResource("2_0b4ue")

[node name="demon" parent="." instance=ExtResource("3_oi3di")]
transform = Transform3D(2.985, 0, 0, 0, 2.985, 0, 0, 0, 2.985, -9.65118, 1.19603, -0.618283)
collision_layer = 2

[node name="footstep" parent="demon" index="0"]
volume_db = -10.0

[node name="Area3D" parent="demon" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00768769, 0, -0.000618935)

[node name="MeshInstance3D" type="MeshInstance3D" parent="demon"]
visible = false
mesh = SubResource("CapsuleMesh_oi3di")

[connection signal="body_entered" from="demon/Area3D" to="player" method="_on_area_3d_body_entered"]

[editable path="demon"]
